{"version":3,"sources":["webpack:///./src/pages/mapHot/index.vue?a32e","webpack:///./src/pages/mapHot/index.vue?b0a2","webpack:///./src/pages/mapHot/index.vue?204a","webpack:///./src/pages/mapHot/index.vue?593b","webpack:///./src/pages/mapHot/index.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_a73e6b52_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_a73e6b52_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","attrs","id","MAX","mapHotvue_type_script_lang_js_","name","data","list","heatmap","computed","_list","map","item","lng","lat","mounted","handleFetchData","destroyed","clearInterval","timerRandom","methods","handleInitMap","_this","_map","external_AMap_default","a","Map","document","createElement","getContext","$message","plugin","Heatmap","handleRandom","_this2","setInterval","aData","i","Math","ceil","random","push","_handleFetchData","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","loading","res","wrap","_context","prev","next","$loading","lock","text","spinner","background","$http","url","$api","mapHot","sent","code","window","location","reload","close","t0","stop","apply","arguments","watch","val","oldVal","setFitView","Polyline","path","setDataSet","max","pages_mapHotvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-24687ca4.b612ef51.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=a73e6b52&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=a73e6b52&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mapHot-wrap\"},[_c('div',{staticClass:\"map\",attrs:{\"id\":\"map\"}})])}]\n\nexport { render, staticRenderFns }","import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\developdata\\\\git\\\\vue-admin-master\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\nimport AMap from 'AMap';\nvar MAX = 2;\nexport default {\n  name: 'MapHot',\n  data: function data() {\n    return {\n      list: [],\n      heatmap: ''\n    };\n  },\n  computed: {\n    _list: function _list() {\n      return this.list.map(function (item) {\n        return [item.lng, item.lat];\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.handleFetchData();\n  },\n  destroyed: function destroyed() {\n    clearInterval(this.timerRandom);\n  },\n  methods: {\n    handleInitMap: function handleInitMap() {\n      var _this = this;\n\n      this._map = new AMap.Map('map');\n\n      if (!document.createElement('canvas').getContext) {\n        return this.$message('当前环境不支持 Canvas');\n      }\n\n      this._map.plugin(['AMap.Heatmap'], function () {\n        return _this.heatmap = new AMap.Heatmap(_this._map);\n      });\n    },\n    handleRandom: function handleRandom() {\n      var _this2 = this;\n\n      this.timerRandom = setInterval(function () {\n        var aData = [];\n\n        for (var i = 0; i < Math.ceil(Math.random() * 100 + 100); i++) {\n          aData.push({\n            lng: Math.random() * 20 + 98,\n            lat: Math.random() * 18 + 22\n          });\n        }\n\n        _this2.list = aData;\n      }, 5000);\n    },\n    handleFetchData: function () {\n      var _handleFetchData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var loading, res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                loading = this.$loading({\n                  lock: true,\n                  text: 'Loading',\n                  spinner: 'el-icon-loading',\n                  background: 'rgba(255, 255, 255, 0.3)'\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return this.$http({\n                  url: this.$api.mapHot\n                });\n\n              case 4:\n                res = _context.sent;\n\n                if (res.code === 200) {\n                  this.list = res.data.map(function (item) {\n                    return {\n                      lng: item.lng,\n                      lat: item.lat\n                    };\n                  });\n                  this.handleInitMap();\n                } else {\n                  window.location.reload();\n                }\n\n                loading.close();\n                _context.next = 13;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](1);\n                loading.close();\n                window.location.reload();\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 9]]);\n      }));\n\n      function handleFetchData() {\n        return _handleFetchData.apply(this, arguments);\n      }\n\n      return handleFetchData;\n    }()\n  },\n  watch: {\n    _list: function _list(val, oldVal) {\n      if (this.heatmap) {\n        // 缩放地图到合适的视野级别\n        this._map.setFitView([new AMap.Polyline({\n          path: this._list\n        })]);\n\n        this.heatmap.setDataSet({\n          data: this.list,\n          max: MAX\n        });\n      }\n    },\n    heatmap: function heatmap(val, oldVal) {\n      this.handleRandom();\n    }\n  }\n};","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a73e6b52&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=a73e6b52&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a73e6b52\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}