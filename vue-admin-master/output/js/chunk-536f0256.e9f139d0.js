(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-536f0256"],{"02f4":function(t,i,e){var n=e("4588"),s=e("be13");t.exports=function(t){return function(i,e){var a,c,r=String(s(i)),o=n(e),l=r.length;return o<0||o>=l?t?"":void 0:(a=r.charCodeAt(o),a<55296||a>56319||o+1===l||(c=r.charCodeAt(o+1))<56320||c>57343?t?r.charAt(o):a:t?r.slice(o,o+2):c-56320+(a-55296<<10)+65536)}}},"0390":function(t,i,e){"use strict";var n=e("02f4")(!0);t.exports=function(t,i,e){return i+(e?n(t,i).length:1)}},"0bfb":function(t,i,e){"use strict";var n=e("cb7c");t.exports=function(){var t=n(this),i="";return t.global&&(i+="g"),t.ignoreCase&&(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),t.sticky&&(i+="y"),i}},"213c":function(t,i,e){},"214f":function(t,i,e){"use strict";e("b0c5");var n=e("2aba"),s=e("32e9"),a=e("79e5"),c=e("be13"),r=e("2b4c"),o=e("520a"),l=r("species"),d=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),u=function(){var t=/(?:)/,i=t.exec;t.exec=function(){return i.apply(this,arguments)};var e="ab".split(t);return 2===e.length&&"a"===e[0]&&"b"===e[1]}();t.exports=function(t,i,e){var v=r(t),f=!a(function(){var i={};return i[v]=function(){return 7},7!=""[t](i)}),p=f?!a(function(){var i=!1,e=/a/;return e.exec=function(){return i=!0,null},"split"===t&&(e.constructor={},e.constructor[l]=function(){return e}),e[v](""),!i}):void 0;if(!f||!p||"replace"===t&&!d||"split"===t&&!u){var x=/./[v],m=e(c,v,""[t],function(t,i,e,n,s){return i.exec===o?f&&!s?{done:!0,value:x.call(i,e,n)}:{done:!0,value:t.call(e,i,n)}:{done:!1}}),b=m[0],_=m[1];n(String.prototype,t,b),s(RegExp.prototype,v,2==i?function(t,i){return _.call(t,this,i)}:function(t){return _.call(t,this)})}}},"28a5":function(t,i,e){"use strict";var n=e("aae3"),s=e("cb7c"),a=e("ebd6"),c=e("0390"),r=e("9def"),o=e("5f1b"),l=e("520a"),d=e("79e5"),u=Math.min,v=[].push,f="split",p="length",x="lastIndex",m=4294967295,b=!d(function(){RegExp(m,"y")});e("214f")("split",2,function(t,i,e,d){var _;return _="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[p]||2!="ab"[f](/(?:ab)*/)[p]||4!="."[f](/(.?)(.?)/)[p]||"."[f](/()()/)[p]>1||""[f](/.?/)[p]?function(t,i){var s=String(this);if(void 0===t&&0===i)return[];if(!n(t))return e.call(s,t,i);var a,c,r,o=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,f=void 0===i?m:i>>>0,b=new RegExp(t.source,d+"g");while(a=l.call(b,s)){if(c=b[x],c>u&&(o.push(s.slice(u,a.index)),a[p]>1&&a.index<s[p]&&v.apply(o,a.slice(1)),r=a[0][p],u=c,o[p]>=f))break;b[x]===a.index&&b[x]++}return u===s[p]?!r&&b.test("")||o.push(""):o.push(s.slice(u)),o[p]>f?o.slice(0,f):o}:"0"[f](void 0,0)[p]?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,n){var s=t(this),a=void 0==e?void 0:e[i];return void 0!==a?a.call(e,s,n):_.call(String(s),e,n)},function(t,i){var n=d(_,t,this,i,_!==e);if(n.done)return n.value;var l=s(t),v=String(this),f=a(l,RegExp),p=l.unicode,x=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(b?"y":"g"),h=new f(b?l:"^(?:"+l.source+")",x),C=void 0===i?m:i>>>0;if(0===C)return[];if(0===v.length)return null===o(h,v)?[v]:[];var g=0,y=0,w=[];while(y<v.length){h.lastIndex=b?y:0;var I,k=o(h,b?v:v.slice(y));if(null===k||(I=u(r(h.lastIndex+(b?0:y)),v.length))===g)y=c(v,y,p);else{if(w.push(v.slice(g,y)),w.length===C)return w;for(var O=1;O<=k.length-1;O++)if(w.push(k[O]),w.length===C)return w;y=g=I}}return w.push(v.slice(g)),w}]})},4475:function(t,i,e){"use strict";var n=e("213c"),s=e.n(n);s.a},"520a":function(t,i,e){"use strict";var n=e("0bfb"),s=RegExp.prototype.exec,a=String.prototype.replace,c=s,r="lastIndex",o=function(){var t=/a/,i=/b*/g;return s.call(t,"a"),s.call(i,"a"),0!==t[r]||0!==i[r]}(),l=void 0!==/()??/.exec("")[1],d=o||l;d&&(c=function(t){var i,e,c,d,u=this;return l&&(e=new RegExp("^"+u.source+"$(?!\\s)",n.call(u))),o&&(i=u[r]),c=s.call(u,t),o&&c&&(u[r]=u.global?c.index+c[0].length:i),l&&c&&c.length>1&&a.call(c[0],e,function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(c[d]=void 0)}),c}),t.exports=c},"5f1b":function(t,i,e){"use strict";var n=e("23c6"),s=RegExp.prototype.exec;t.exports=function(t,i){var e=t.exec;if("function"===typeof e){var a=e.call(t,i);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return s.call(t,i)}},aae3:function(t,i,e){var n=e("d3f4"),s=e("2d95"),a=e("2b4c")("match");t.exports=function(t){var i;return n(t)&&(void 0!==(i=t[a])?!!i:"RegExp"==s(t))}},b0c5:function(t,i,e){"use strict";var n=e("520a");e("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},dd2a:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"mapCar-wrap"},[t._m(0),t.info.data_time?e("div",{staticClass:"info-box"},[e("div",{staticClass:"uptime-box"},[t._v(t._s("更新时间："+t.info.data_time))]),e("ul",{staticClass:"top-box"},[e("li",{staticClass:"item-box"},[e("div",{staticClass:"num"},[t._v(t._s(t.info.online_today))]),e("div",{staticClass:"text"},[t._v("今日在线")])]),e("li",{staticClass:"item-box"},[e("div",{staticClass:"num"},[t._v(t._s(t.info.passenger_today))]),e("div",{staticClass:"text"},[t._v("今日乘客")])]),e("li",{staticClass:"item-box"},[e("div",{staticClass:"num"},[t._v(t._s(t.info.interact_today))]),e("div",{staticClass:"text"},[t._v("今日互动")])]),e("li",{staticClass:"item-box"},[e("div",{staticClass:"num"},[t._v(t._s(t.info.online_yesterday))]),e("div",{staticClass:"text"},[t._v("昨日在线")])]),e("li",{staticClass:"item-box"},[e("div",{staticClass:"num"},[t._v(t._s(t.info.passenger_yesterday))]),e("div",{staticClass:"text"},[t._v("昨日乘客")])]),e("li",{staticClass:"item-box"},[e("div",{staticClass:"num"},[t._v(t._s(t.info.interact_yesterday))]),e("div",{staticClass:"text"},[t._v("昨日互动")])])]),e("div",{staticClass:"bottom-box"},[e("div",{staticClass:"item-outer"},[e("div",{staticClass:"item-inner"},[e("div",{staticClass:"title-bar"},[e("div",{staticClass:"item-box normal"},[e("div",{staticClass:"num"},[t._v(t._s(t.info.ad.audience))]),e("div",{staticClass:"text"},[t._v("广告受众")])]),e("div",{staticClass:"item-box",class:{active:0===t.adIndex},on:{click:function(i){t.adIndex=0}}},[e("div",{staticClass:"num"},[t._v(t._s(t.info.ad.today_count))]),e("div",{staticClass:"text"},[t._v("今日展示")])]),e("div",{staticClass:"item-box",class:{active:1===t.adIndex},on:{click:function(i){t.adIndex=1}}},[e("div",{staticClass:"num"},[t._v(t._s(t.info.ad.yesterday_count))]),e("div",{staticClass:"text"},[t._v("昨日展示")])])]),0===t.adIndex?e("div",{staticClass:"list-box"},t._l(t.info.ad.today,function(i,n){return e("div",{key:n,staticClass:"item-box"},[e("div",{staticClass:"text"},[t._v(t._s(i.name))]),e("div",{staticClass:"number"},[t._v(t._s(i.num))])])}),0):1===t.adIndex?e("div",{staticClass:"list-box"},t._l(t.info.ad.yesterday,function(i,n){return e("div",{key:n,staticClass:"item-box"},[e("div",{staticClass:"text"},[t._v(t._s(i.name))]),e("div",{staticClass:"number"},[t._v(t._s(i.num))])])}),0):t._e()])]),e("div",{staticClass:"item-outer"},[e("div",{staticClass:"item-inner"},[e("div",{staticClass:"title-bar"},[e("div",{staticClass:"item-box",class:{active:0===t.bindIndex},on:{click:function(i){t.bindIndex=0}}},[e("div",{staticClass:"num"},[t._v(t._s(t.info.bind_today.count))]),e("div",{staticClass:"text"},[t._v("今日绑定预期")])]),e("div",{staticClass:"item-box",class:{active:1===t.bindIndex},on:{click:function(i){t.bindIndex=1}}},[e("div",{staticClass:"num"},[t._v(t._s(t.info.bind_yesterday.count))]),e("div",{staticClass:"text"},[t._v("昨日绑定预期")])])]),0===t.bindIndex?e("div",{staticClass:"list-box"},t._l(t.info.bind_today.cities,function(i,n){return e("div",{key:n,staticClass:"item-box"},[e("div",{staticClass:"text"},[t._v(t._s(i.city))]),e("div",{staticClass:"number"},[t._v(t._s(i.count))])])}),0):1===t.bindIndex?e("div",{staticClass:"list-box"},t._l(t.info.bind_yesterday.cities,function(i,n){return e("div",{key:n,staticClass:"item-box"},[e("div",{staticClass:"text"},[t._v(t._s(i.city))]),e("div",{staticClass:"number"},[t._v(t._s(i.count))])])}),0):t._e()]),e("div",{staticClass:"item-inner"},[e("div",{staticClass:"title-bar"},[e("div",{staticClass:"item-box",class:{active:0===t.onlineIndex},on:{click:function(i){t.onlineIndex=0}}},[e("div",{staticClass:"num"},[t._v(t._s(t.info.online.today_count))]),e("div",{staticClass:"text"},[t._v("今日在线预期")])]),e("div",{staticClass:"item-box",class:{active:1===t.onlineIndex},on:{click:function(i){t.onlineIndex=1}}},[e("div",{staticClass:"num"},[t._v(t._s(t.info.online.yesterday_count))]),e("div",{staticClass:"text"},[t._v("昨日在线预期")])])]),0===t.onlineIndex?e("div",{staticClass:"list-box"},t._l(t.info.online.today,function(i,n){return e("div",{key:n,staticClass:"item-box"},[e("div",{staticClass:"text"},[t._v(t._s(i.city))]),e("div",{staticClass:"number"},[t._v(t._s(i.num))])])}),0):1===t.onlineIndex?e("div",{staticClass:"list-box"},t._l(t.info.online.yesterday,function(i,n){return e("div",{key:n,staticClass:"item-box"},[e("div",{staticClass:"text"},[t._v(t._s(i.city))]),e("div",{staticClass:"number"},[t._v(t._s(i.num))])])}),0):t._e()])])])]):t._e()])},s=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"map-box"},[e("div",{staticClass:"map",attrs:{id:"map"}})])}],a=(e("8e6e"),e("ac6a"),e("456d"),e("bd86")),c=(e("96cf"),e("3b8d")),r=(e("28a5"),e("024c")),o=e.n(r);function l(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?l(e,!0).forEach(function(i){Object(a["a"])(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):l(e).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}var u={name:"MapCar",data:function(){return{list:[],map:"",info:{},adIndex:0,onlineIndex:0,bindIndex:0}},computed:{_list:function(){var t=14,i=28;return this.list.map(function(e){var n=new o.a.Marker({id:e.id,icon:new o.a.Icon({size:new o.a.Size(t,i),image:"https://webapi.amap.com/ui/1.0/ui/misc/PathSimplifier/examples/imgs/car.png",imageSize:new o.a.Size(t,i)}),position:e.loc.split(","),title:"车辆id为".concat(e.id),offset:new o.a.Pixel(-t/2,-i/2),angle:e.loc.split(",")[2]});return n})}},mounted:function(){this.handleFetchData()},destroyed:function(){clearInterval(this.timerRandom)},methods:{handleRandom:function(){var t=this;this.timerRandom=setInterval(function(){return t.handleFetchData(!0)},1e4)},handleFetchData:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(i){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(document.createElement("canvas").getContext){t.next=2;break}return t.abrupt("return",this.$message("当前环境不支持 Canvas"));case 2:return i||(this._loading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.3)"})),t.prev=3,t.next=6,this.$http({url:this.$api.chartOnline});case 6:e=t.sent,200===e.code?(this.list=e.data.online_list,this.info=d({},e.data),!this.map&&(this.map=new o.a.Map("map"))):window.location.reload(),!i&&this._loading.close(),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](3),!i&&this._loading.close(),window.location.reload();case 15:case"end":return t.stop()}},t,this,[[3,11]])}));function i(i){return t.apply(this,arguments)}return i}()},watch:{_list:function(t,i){this.map&&(this.map.clearMap(),this.map.add(this._list),this.map.setFitView())},map:function(t,i){this.handleRandom()}}},v=u,f=(e("4475"),e("2877")),p=Object(f["a"])(v,n,s,!1,null,"2e66174c",null);i["default"]=p.exports}}]);
//# sourceMappingURL=chunk-536f0256.e9f139d0.js.map