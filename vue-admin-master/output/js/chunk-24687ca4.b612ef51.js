(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24687ca4"],{"0f6d":function(t,a,n){},"19ec":function(t,a,n){"use strict";var e=n("0f6d"),i=n.n(e);i.a},9529:function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"mapHot-wrap"},[n("div",{staticClass:"map",attrs:{id:"map"}})])}],r=(n("96cf"),n("3b8d")),s=n("024c"),c=n.n(s),o=2,l={name:"MapHot",data:function(){return{list:[],heatmap:""}},computed:{_list:function(){return this.list.map(function(t){return[t.lng,t.lat]})}},mounted:function(){this.handleFetchData()},destroyed:function(){clearInterval(this.timerRandom)},methods:{handleInitMap:function(){var t=this;if(this._map=new c.a.Map("map"),!document.createElement("canvas").getContext)return this.$message("当前环境不支持 Canvas");this._map.plugin(["AMap.Heatmap"],function(){return t.heatmap=new c.a.Heatmap(t._map)})},handleRandom:function(){var t=this;this.timerRandom=setInterval(function(){for(var a=[],n=0;n<Math.ceil(100*Math.random()+100);n++)a.push({lng:20*Math.random()+98,lat:18*Math.random()+22});t.list=a},5e3)},handleFetchData:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.3)"}),t.prev=1,t.next=4,this.$http({url:this.$api.mapHot});case 4:n=t.sent,200===n.code?(this.list=n.data.map(function(t){return{lng:t.lng,lat:t.lat}}),this.handleInitMap()):window.location.reload(),a.close(),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),a.close(),window.location.reload();case 13:case"end":return t.stop()}},t,this,[[1,9]])}));function a(){return t.apply(this,arguments)}return a}()},watch:{_list:function(t,a){this.heatmap&&(this._map.setFitView([new c.a.Polyline({path:this._list})]),this.heatmap.setDataSet({data:this.list,max:o}))},heatmap:function(t,a){this.handleRandom()}}},h=l,u=(n("19ec"),n("2877")),p=Object(u["a"])(h,e,i,!1,null,"a73e6b52",null);a["default"]=p.exports}}]);
//# sourceMappingURL=chunk-24687ca4.b612ef51.js.map