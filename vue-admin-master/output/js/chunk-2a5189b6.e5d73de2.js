(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a5189b6"],{"02f4":function(e,t,r){var a=r("4588"),s=r("be13");e.exports=function(e){return function(t,r){var n,i,o=String(s(t)),l=a(r),c=o.length;return l<0||l>=c?e?"":void 0:(n=o.charCodeAt(l),n<55296||n>56319||l+1===c||(i=o.charCodeAt(l+1))<56320||i>57343?e?o.charAt(l):n:e?o.slice(l,l+2):i-56320+(n-55296<<10)+65536)}}},"0390":function(e,t,r){"use strict";var a=r("02f4")(!0);e.exports=function(e,t,r){return t+(r?a(e,t).length:1)}},"0bfb":function(e,t,r){"use strict";var a=r("cb7c");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"20d6":function(e,t,r){"use strict";var a=r("5ca1"),s=r("0a49")(6),n="findIndex",i=!0;n in[]&&Array(1)[n](function(){i=!1}),a(a.P+a.F*i,"Array",{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(n)},"214f":function(e,t,r){"use strict";r("b0c5");var a=r("2aba"),s=r("32e9"),n=r("79e5"),i=r("be13"),o=r("2b4c"),l=r("520a"),c=o("species"),u=!n(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var p=o(e),m=!n(function(){var t={};return t[p]=function(){return 7},7!=""[e](t)}),h=m?!n(function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[c]=function(){return r}),r[p](""),!t}):void 0;if(!m||!h||"replace"===e&&!u||"split"===e&&!d){var f=/./[p],v=r(i,p,""[e],function(e,t,r,a,s){return t.exec===l?m&&!s?{done:!0,value:f.call(t,r,a)}:{done:!0,value:e.call(r,t,a)}:{done:!1}}),g=v[0],b=v[1];a(String.prototype,e,g),s(RegExp.prototype,p,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},"2c02":function(e,t,r){"use strict";var a=r("ea1d"),s=r.n(a);s.a},"38c6":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"layout-wrap"},[r("Header"),r("div",{staticClass:"main-box"},[r("Menu"),r("div",{staticClass:"container-box"},[r("Tag",{attrs:{tagList:e.$store.state.tagList}}),r("div",{staticClass:"router-box",class:{full:!e.$store.state.tagList.length}},[r("keep-alive",{attrs:{include:e._include}},[r("router-view")],1)],1)],1)],1)],1)},s=[],n=(r("7f7f"),r("20d6"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header-wrap"},[r("div",{staticClass:"left-box"},[r("div",{staticClass:"icon-box",on:{click:e.handleToggleCollapse}},[r("el-tooltip",{attrs:{placement:"bottom",content:e._isCollapse?"展开菜单":"收缩菜单"}},[r("i",{staticClass:"iconfont icon-menu-collapse",class:{rotate:e._isCollapse}})])],1),r("div",{staticClass:"text"},[r("span",[e._v("贵州云建住")]),r("span",{staticClass:"small"},[e._v(e._s(e.$api.ver))])])]),r("div",{staticClass:"right-box"},[r("div",{staticClass:"avatar-box"},[r("img",{staticClass:"avatar",attrs:{src:e._user.avatar||"./img/avatar.jpg",alt:"用户头像"}})]),r("el-dropdown",{staticClass:"user-box",attrs:{trigger:"click"},on:{command:e.handleUser}},[r("div",{staticClass:"el-dropdown-link"},[r("span",[e._v(e._s(e._user.name))]),r("i",{staticClass:"el-icon-caret-bottom"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{divided:"",command:"profile"}},[e._v("修改信息")]),r("el-dropdown-item",{attrs:{divided:"",command:"password"}},[e._v("修改密码")]),r("el-dropdown-item",{attrs:{divided:"",command:"avatar"}},[e._v("修改头像")]),r("el-dropdown-item",{attrs:{divided:"",command:"logout"}},[e._v("退出登录")])],1)],1),r("div",{staticClass:"screen-box",on:{click:e.handleFullScreen}},[r("el-tooltip",{attrs:{placement:"bottom",content:"开启/退出全屏"}},[r("i",{staticClass:"icon el-icon-rank"})])],1)],1),r("el-dialog",{attrs:{title:"修改信息",center:"",width:"350px",visible:e._user.flag},on:{close:function(t){e._user.flag=!1}}},[r("el-form",{attrs:{"label-width":"80px"}},[r("el-form-item",{attrs:{label:"登录名"}},[r("el-input",{attrs:{placeholder:"请输入登录名",clearable:""},model:{value:e._user.logname,callback:function(t){e.$set(e._user,"logname","string"===typeof t?t.trim():t)},expression:"_user.logname"}})],1),r("el-form-item",{attrs:{label:"姓名"}},[r("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e._user.name,callback:function(t){e.$set(e._user,"name","string"===typeof t?t.trim():t)},expression:"_user.name"}})],1),r("el-form-item",{attrs:{label:"手机号"}},[r("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e._user.mobile,callback:function(t){e.$set(e._user,"mobile","string"===typeof t?t.trim():t)},expression:"_user.mobile"}})],1),r("el-form-item",{attrs:{label:"邮箱"}},[r("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e._user.email,callback:function(t){e.$set(e._user,"email","string"===typeof t?t.trim():t)},expression:"_user.email"}})],1),r("el-form-item",{attrs:{label:"性别"}},[r("el-radio-group",{model:{value:e._user.gender,callback:function(t){e.$set(e._user,"gender",t)},expression:"_user.gender"}},[r("el-radio",{attrs:{label:"M"}},[e._v("男性")]),r("el-radio",{attrs:{label:"F"}},[e._v("女性")])],1)],1),r("el-form-item",{attrs:{label:"出生日期"}},[r("el-date-picker",{staticClass:"auto",attrs:{type:"date","value-format":"yyyy-MM-dd",editable:!1,placeholder:"请选出生日期"},model:{value:e._user.birth,callback:function(t){e.$set(e._user,"birth",t)},expression:"_user.birth"}})],1),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleUpdate(e._user)}}},[e._v("提交")])],1)],1)],1),r("el-dialog",{attrs:{title:"修改密码",center:"",width:"350px",visible:e.passwordForm.flag},on:{close:function(t){e.passwordForm.flag=!1}}},[r("el-form",[r("el-form-item",[r("el-input",{attrs:{type:"password",placeholder:"请输入密码",clearable:""},model:{value:e.passwordForm.password,callback:function(t){e.$set(e.passwordForm,"password","string"===typeof t?t.trim():t)},expression:"passwordForm.password"}})],1),r("el-form-item",[r("el-input",{attrs:{type:"password",placeholder:"请输入确认密码"},model:{value:e.passwordForm.re_password,callback:function(t){e.$set(e.passwordForm,"re_password","string"===typeof t?t.trim():t)},expression:"passwordForm.re_password"}})],1),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleUpdatePassword(e.passwordForm)}}},[e._v("提交")])],1)],1)],1),r("el-dialog",{attrs:{title:"修改头像",center:"",width:"350px",visible:e.avatarForm.flag},on:{close:function(t){e.avatarForm.flag=!1}}},[r("el-form",[r("el-upload",{ref:"upload",attrs:{action:"","auto-upload":!1,"on-change":e.handleChange,"list-type":"picture",accept:"image/*"}},[r("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("上传头像")]),r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.handleUpdateAvatar}},[e._v("提交")])],1)],1)],1)],1)}),i=[],o=(r("96cf"),r("3b8d")),l=(r("a481"),r("bc3a")),c=r.n(l),u=r("b893"),d={name:"Header",data:function(){return{passwordForm:{flag:!1,password:"",re_password:""},avatarForm:{flag:!1,isAjax:!1}}},computed:{_isCollapse:function(){return this.$store.state.isCollapse},_user:function(){return this.$store.state.user}},methods:{handleToggleCollapse:function(){this.$store.commit("$handleToggleCollapse")},handleFullScreen:function(){if(window.screen.height-window.innerHeight<5)document.exitFullScreen?document.exitFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();else{var e=document.documentElement;e.requestFullScreen?e.requestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullScreen&&e.msRequestFullScreen()}},handleChange:function(e,t){t.length>1&&t.shift()},handleUser:function(e){switch(e){case"profile":this._user.flag=!0;break;case"password":this.passwordForm.flag=!0;break;case"avatar":this.avatarForm.flag=!0;break;case"logout":this.$store.commit("$handleLogin",0),this.$router.replace({name:"login"});break}},handleUpdate:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this._user,null===t.birth&&(t.birth=""),t.logname.length){e.next=4;break}return e.abrupt("return",this.$message.error("请填写登录名"));case 4:if(t.name.length){e.next=6;break}return e.abrupt("return",this.$message.error("请填写姓名"));case 6:if(Object(u["b"])(t.mobile)){e.next=8;break}return e.abrupt("return",this.$message.error("请填写正确的手机号"));case 8:if(t.email.length){e.next=10;break}return e.abrupt("return",this.$message.error("请填写邮箱"));case 10:if(t.birth.length){e.next=12;break}return e.abrupt("return",this.$message.error("请填写出生日期"));case 12:return e.prev=12,e.next=15,this.$http({url:this.$api.profile,data:t});case 15:r=e.sent,200===r.code?(this.$message.success(r.msg),this.$store.commit("$handleUser",r.data)):this.$message.error(r.msg),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](12),this.$message.error(this.$api.msg);case 22:case"end":return e.stop()}},e,this,[[12,19]])}));function t(){return e.apply(this,arguments)}return t}(),handleUpdatePassword:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.passwordForm,t.password.length){e.next=3;break}return e.abrupt("return",this.$message.error("请填写新密码"));case 3:if(t.password===t.re_password){e.next=5;break}return e.abrupt("return",this.$message.error("新密码与确认密码不一致"));case 5:return e.prev=5,e.next=8,this.$http({url:this.$api.password,data:this.passwordForm});case 8:r=e.sent,200===r.code?(this.$message.success(r.msg),Object.assign(this.$data,this.$options.data())):this.$message.error(r.msg),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),this.$message.error(this.$api.msg);case 15:case"end":return e.stop()}},e,this,[[5,12]])}));function t(){return e.apply(this,arguments)}return t}(),handleUpdateAvatar:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$refs.upload.uploadFiles[0]||{},t.raw){e.next=3;break}return e.abrupt("return",this.$message.error("请上传头像"));case 3:return r=new FormData,r.append("avatar",t.raw),e.prev=5,this.avatarForm.isAjax=!0,e.next=9,c.a.post(this.$api.avatar,r,{headers:{"Content-Type":"multipart/form-data",Authorization:this.$store.state.token}});case 9:a=e.sent,this.avatarForm.isAjax=!1,200===a.code?(this.$message.success(a.msg),Object.assign(this.$data,this.$options.data()),this.$store.commit("$handleUser",a.data)):this.$message.error(a.msg),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](5),this.avatarForm.isAjax=!1,this.$message.error(this.$api.msg);case 18:case"end":return e.stop()}},e,this,[[5,14]])}));function t(){return e.apply(this,arguments)}return t}()}},p=d,m=(r("bcd9"),r("2877")),h=Object(m["a"])(p,n,i,!1,null,"1cae0201",null),f=h.exports,v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-scrollbar",{staticClass:"menu-wrap"},[r("el-menu",{staticClass:"list-box",attrs:{collapse:e.$store.state.isCollapse,"default-active":e.$route.name,"background-color":"#324157","text-color":"#bfcbd9","active-text-color":"#20a0ff","unique-opened":"",router:""}},[e._l(e.menus,function(t){return[t.children?[r("el-submenu",{key:t.index,attrs:{index:t.index}},[r("template",{slot:"title"},[r("i",{class:t.icon}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])]),e._l(t.children,function(t){return[t.children?r("el-submenu",{key:t.index,attrs:{index:t.index}},[r("template",{slot:"title"},[e._v(e._s(t.title))]),e._l(t.children,function(t,a){return r("el-menu-item",{key:a,attrs:{index:t.index}},[e._v(e._s(t.title))])})],2):r("el-menu-item",{key:t.index,attrs:{index:t.index}},[r("span",{staticStyle:{"padding-left":"8px"}},[e._v(e._s(t.title))])])]})],2)]:[r("el-menu-item",{key:t.index,attrs:{index:t.index}},[r("i",{class:t.icon}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])])]]})],2)],1)},g=[],b=r("41cb"),x={name:"Menu",data:function(){return{menus:b["a"]}}},w=x,$=(r("2c02"),Object(m["a"])(w,v,g,!1,null,"3e6b88f7",null)),_=$.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.tagList.length?r("div",{staticClass:"tag-wrap"},[r("div",{staticClass:"tag-bar"},[r("el-scrollbar",[r("div",{staticClass:"item-list"},e._l(e.tagList,function(t,a){return r("div",{key:a,staticClass:"item-box",class:{active:t.name===e.$route.name},on:{click:function(r){return e.$router.push(t.fullPath)}}},[r("span",{staticClass:"title"},[e._v(e._s(t.title))]),r("span",{on:{click:function(t){return t.stopPropagation(),e.handleCloseTag(a)}}},[r("i",{staticClass:"el-icon-close"})])])}),0)])],1),r("el-dropdown",{staticClass:"close-bar",on:{command:e.handleCloseTag}},[r("el-button",{attrs:{size:"mini",type:"primary"}},[r("span",[e._v("标签选项")]),r("i",{staticClass:"el-icon-arrow-down"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"other"}},[e._v("关闭其他")]),r("el-dropdown-item",{attrs:{command:"all"}},[e._v("关闭全部")])],1)],1)],1):e._e()},k=[],C={name:"Tag",props:{tagList:{type:Array,default:function(){return[]}}},methods:{handleCloseTag:function(e){var t=this;switch(e){case"other":var r=this.tagList.filter(function(e){return e.fullPath===t.$route.fullPath});this.$store.commit("$handleTagList",r);break;case"all":this.$store.commit("$handleTagList",[]),this.$router.push({path:"/"});break;default:var a=this.tagList.slice(),s=a.splice(e,1)[0],n=a[e]||a[e-1];n?s.fullPath===this.$route.fullPath&&this.$router.push(n.fullPath):this.$router.push({path:"/"}),this.$store.commit("$handleTagList",a)}}}},F=C,S=(r("f3dd"),Object(m["a"])(F,y,k,!1,null,"02d3da63",null)),j=S.exports,R={name:"Layout",components:{Header:f,Menu:_,Tag:j},computed:{_include:function(){for(var e=[this.$store.state.tagList,[]],t=e[0],r=e[1],a=0;a<t.length;a++)t[a]._include&&r.push(t[a]._name);return r}},watch:{$route:{handler:function(e,t){var r=this.$store.state.tagList.slice(),a=r.some(function(t,r){return t.path===e.path&&!!(t.fullPath=e.fullPath)});if(!a){r.length>=6&&r.shift();var s=r.findIndex(function(e){return e.path===t.path}),n={path:e.path,title:e.meta.title,name:e.matched[1].name,fullPath:e.fullPath,_include:!e.meta.exclude,_name:e.name.charAt(0).toUpperCase()+e.name.substr(1)};-1===s||e.meta.menu||e.meta.parent?r.push(n):r.splice(s,0,n)}this.$store.commit("$handleTagList",r)},immediate:!0,deep:!0}}},A=R,E=(r("e9a4"),Object(m["a"])(A,a,s,!1,null,"282c1fd2",null));t["default"]=E.exports},"3a0e":function(e,t,r){},"520a":function(e,t,r){"use strict";var a=r("0bfb"),s=RegExp.prototype.exec,n=String.prototype.replace,i=s,o="lastIndex",l=function(){var e=/a/,t=/b*/g;return s.call(e,"a"),s.call(t,"a"),0!==e[o]||0!==t[o]}(),c=void 0!==/()??/.exec("")[1],u=l||c;u&&(i=function(e){var t,r,i,u,d=this;return c&&(r=new RegExp("^"+d.source+"$(?!\\s)",a.call(d))),l&&(t=d[o]),i=s.call(d,e),l&&i&&(d[o]=d.global?i.index+i[0].length:t),c&&i&&i.length>1&&n.call(i[0],r,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(i[u]=void 0)}),i}),e.exports=i},"5f1b":function(e,t,r){"use strict";var a=r("23c6"),s=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var n=r.call(e,t);if("object"!==typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==a(e))throw new TypeError("RegExp#exec called on incompatible receiver");return s.call(e,t)}},"8e91":function(e,t,r){},a481:function(e,t,r){"use strict";var a=r("cb7c"),s=r("4bf8"),n=r("9def"),i=r("4588"),o=r("0390"),l=r("5f1b"),c=Math.max,u=Math.min,d=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};r("214f")("replace",2,function(e,t,r,f){return[function(a,s){var n=e(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,n,s):r.call(String(n),a,s)},function(e,t){var s=f(r,e,this,t);if(s.done)return s.value;var d=a(e),p=String(this),m="function"===typeof t;m||(t=String(t));var g=d.global;if(g){var b=d.unicode;d.lastIndex=0}var x=[];while(1){var w=l(d,p);if(null===w)break;if(x.push(w),!g)break;var $=String(w[0]);""===$&&(d.lastIndex=o(p,n(d.lastIndex),b))}for(var _="",y=0,k=0;k<x.length;k++){w=x[k];for(var C=String(w[0]),F=c(u(i(w.index),p.length),0),S=[],j=1;j<w.length;j++)S.push(h(w[j]));var R=w.groups;if(m){var A=[C].concat(S,F,p);void 0!==R&&A.push(R);var E=String(t.apply(void 0,A))}else E=v(C,p,F,S,R,t);F>=y&&(_+=p.slice(y,F)+E,y=F+C.length)}return _+p.slice(y)}];function v(e,t,a,n,i,o){var l=a+e.length,c=n.length,u=m;return void 0!==i&&(i=s(i),u=p),r.call(o,u,function(r,s){var o;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,a);case"'":return t.slice(l);case"<":o=i[s.slice(1,-1)];break;default:var u=+s;if(0===u)return r;if(u>c){var p=d(u/10);return 0===p?r:p<=c?void 0===n[p-1]?s.charAt(1):n[p-1]+s.charAt(1):r}o=n[u-1]}return void 0===o?"":o})}})},b0c5:function(e,t,r){"use strict";var a=r("520a");r("5ca1")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})},b893:function(e,t,r){"use strict";function a(e){return/^1[3-9]\d{9}$/.test(e)}r.d(t,"b",function(){return a}),r.d(t,"a",function(){return s});var s={total:0,page:1,size:30,pager:5,layout:window.screen.availWidth>768?"prev, pager, next, jumper, total":"prev, next, total"}},bcd9:function(e,t,r){"use strict";var a=r("8e91"),s=r.n(a);s.a},e925:function(e,t,r){},e9a4:function(e,t,r){"use strict";var a=r("3a0e"),s=r.n(a);s.a},ea1d:function(e,t,r){},f3dd:function(e,t,r){"use strict";var a=r("e925"),s=r.n(a);s.a}}]);
//# sourceMappingURL=chunk-2a5189b6.e5d73de2.js.map